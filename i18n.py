# Simple translation utility
import os

LANG = os.getenv("MCP_LANG", "en")

TRANSLATIONS = {
    "en": {
        "Food Preferences": "Food Preferences",
        "Category": "Category",
        "Dietary Restriction": "Dietary Restriction",
        "Allergy": "Allergy",
        "Dislike": "Dislike",
        "Like": "Like",
        "Select category": "Select category",
        "Item": "Item",
        "Enter item (e.g., vegetarian, peanuts)": "Enter item (e.g., vegetarian, peanuts)",
        "Level": "Level",
        "Required": "Required",
        "Preferred": "Preferred",
        "Avoid": "Avoid",
        "Select level": "Select level",
        "Notes": "Notes",
        "Optional notes": "Optional notes",
        "Add Preference": "Add Preference",
        "Current Preferences": "Current Preferences",
        "Add Item to Pantry": "Add Item to Pantry",
        "Item Name": "Item Name",
        "Enter item name": "Enter item name",
        "Quantity": "Quantity",
        "Enter quantity": "Enter quantity",
        "Unit": "Unit",
        "e.g., g, kg, ml": "e.g., g, kg, ml",
        "Add Item": "Add Item",
        "Refresh": "Refresh",
        "Current Pantry Contents": "Current Pantry Contents",
        "Transaction History": "Transaction History",
        "Date": "Date",
        "Type": "Type",
        "Notes": "Notes",
        "Meal Planner": "Meal Planner",
        "Pantry Management": "Pantry Management",
        "Recipes": "Recipes",
        "Preferences": "Preferences",
        "Make Recipe": "Make Recipe",
        "Select Recipe": "Select Recipe",
        "Choose a recipe": "Choose a recipe",
        "Make Recipe": "Make Recipe",
        "Edit Recipe": "Edit Recipe",
        "Close": "Close",
        "Save Changes": "Save Changes",
        "Add New Recipe": "Add New Recipe",
        "Recipe Name": "Recipe Name",
        "Enter recipe name": "Enter recipe name",
        "Preparation Time (minutes)": "Preparation Time (minutes)",
        "Enter preparation time": "Enter preparation time",
        "Instructions": "Instructions",
        "Enter cooking instructions": "Enter cooking instructions",
        "Ingredients": "Ingredients",
        "Ingredient name": "Ingredient name",
        "Quantity": "Quantity",
        "Save Recipe": "Save Recipe",
        "Recipe Management": "Recipe Management",
        "Recipe Name": "Recipe Name",
        "Prep Time": "Prep Time",
        "Actions": "Actions",
        "Refresh Recipes": "Refresh Recipes",
        "Preference added successfully": "Preference added successfully",
        "Failed to add preference. Item may already exist with this category.": "Failed to add preference. Item may already exist with this category.",
        "Recipe added successfully": "Recipe added successfully",
        "Failed to add recipe": "Failed to add recipe",
        "Recipe updated successfully": "Recipe updated successfully",
        "Failed to update recipe '{name}'": "Failed to update recipe '{name}'",
        "Recipe '{name}' not found": "Recipe '{name}' not found",
        "Meal Calendar": "Meal Calendar",
        "Generate Plan": "Generate Plan",
    },
    "nl": {
        "Food Preferences": "Voedselvoorkeuren",
        "Category": "Categorie",
        "Dietary Restriction": "Dieetbeperking",
        "Allergy": "Allergie",
        "Dislike": "Afkeer",
        "Like": "Voorkeur",
        "Select category": "Selecteer categorie",
        "Item": "Item",
        "Enter item (e.g., vegetarian, peanuts)": "Voer item in (bijv. vegetarisch, pinda's)",
        "Level": "Niveau",
        "Required": "Vereist",
        "Preferred": "Voorkeur",
        "Avoid": "Vermijden",
        "Select level": "Selecteer niveau",
        "Notes": "Notities",
        "Optional notes": "Optionele notities",
        "Add Preference": "Voeg voorkeur toe",
        "Current Preferences": "Huidige voorkeuren",
        "Add Item to Pantry": "Voeg item toe aan voorraad",
        "Item Name": "Itemnaam",
        "Enter item name": "Voer itemnaam in",
        "Quantity": "Hoeveelheid",
        "Enter quantity": "Voer hoeveelheid in",
        "Unit": "Eenheid",
        "e.g., g, kg, ml": "bijv. g, kg, ml",
        "Add Item": "Item toevoegen",
        "Refresh": "Vernieuwen",
        "Current Pantry Contents": "Huidige voorraad",
        "Transaction History": "Transactiegeschiedenis",
        "Date": "Datum",
        "Type": "Type",
        "Notes": "Notities",
        "Meal Planner": "Maaltijdplanner",
        "Pantry Management": "Voorraadbeheer",
        "Recipes": "Recepten",
        "Preferences": "Voorkeuren",
        "Make Recipe": "Bereid recept",
        "Select Recipe": "Selecteer recept",
        "Choose a recipe": "Kies een recept",
        "Edit Recipe": "Bewerk recept",
        "Close": "Sluiten",
        "Save Changes": "Wijzigingen opslaan",
        "Add New Recipe": "Nieuw recept toevoegen",
        "Recipe Name": "Receptnaam",
        "Enter recipe name": "Voer receptnaam in",
        "Preparation Time (minutes)": "Bereidingstijd (minuten)",
        "Enter preparation time": "Voer bereidingstijd in",
        "Instructions": "Instructies",
        "Enter cooking instructions": "Voer kookinstructies in",
        "Ingredients": "Ingrediënten",
        "Ingredient name": "Ingrediëntnaam",
        "Save Recipe": "Recept opslaan",
        "Recipe Management": "Receptbeheer",
        "Recipe Name": "Receptnaam",
        "Prep Time": "Voorbereidingstijd",
        "Actions": "Acties",
        "Refresh Recipes": "Recepten verversen",
        "Preference added successfully": "Voorkeur succesvol toegevoegd",
        "Failed to add preference. Item may already exist with this category.": "Voorkeur niet toegevoegd. Item bestaat mogelijk al in deze categorie.",
        "Recipe added successfully": "Recept succesvol toegevoegd",
        "Failed to add recipe": "Recept toevoegen mislukt",
        "Recipe updated successfully": "Recept succesvol bijgewerkt",
        "Failed to update recipe '{name}'": "Bijwerken van recept '{name}' mislukt",
        "Recipe '{name}' not found": "Recept '{name}' niet gevonden",
        "Meal Calendar": "Maaltijdkalender",
        "Generate Plan": "Plan genereren",
    },
}


def set_lang(lang: str) -> None:
    """Set the active language."""
    global LANG
    if lang in TRANSLATIONS:
        LANG = lang
    else:
        LANG = "en"


def t(text: str, lang: str | None = None) -> str:
    """Translate text to the active language."""
    lang = lang or LANG
    return TRANSLATIONS.get(lang, TRANSLATIONS["en"]).get(text, text)
